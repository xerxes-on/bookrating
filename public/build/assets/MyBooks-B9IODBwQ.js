import{_ as f,r as d,I as b,d as a,o,e,O as c,F as y,f as B,j as k,p,t as l,g as w,R as x,N as M}from"./app-CFGuSI1Y.js";import{b as N}from"./book-D1Fl5hLm.js";import{_ as F}from"./Layout-6o8BjmJW.js";import"./client-DX3z9xpM.js";const L={class:"books-container"},C={class:"books-grid"},D={class:"book-image-container"},E=["src","alt"],V={class:"book-overlay"},$={key:0,class:"book-rating"},I={class:"book-info !bg-gray-200"},R={class:"book-title"},j={key:0,class:"book-author"},A={class:"book-details"},O={key:0,class:"book-year"},U={class:"book-reviews"},Y={key:0,class:"empty-state"},q={key:1,class:"load-more-container"},z=["disabled"],G={__name:"MyBooks",setup(g){const i=d([]),n=d(!1),u=d(1),_=d(!1),v=async()=>{if(!(n.value||_.value)){n.value=!0;try{const t=(await N.getBooks(u.value)).data.data||[];i.value=[...i.value,...t],t.length===0?_.value=!0:u.value++}catch(r){console.error("Error fetching books:",r)}finally{n.value=!1}}},h=()=>{v()},m=r=>r?new Date(r).getFullYear():"Unknown";return b(()=>{v()}),(r,t)=>(o(),a("div",L,[t[2]||(t[2]=e("h1",{class:"page-title"},"Books",-1)),e("div",C,[(o(!0),a(y,null,B(i.value,s=>(o(),a("div",{key:s.id,class:"book-card"},[k(w(x),{to:`/book/${s.id}`,class:"book-link"},{default:p(()=>[e("div",D,[e("img",{src:s.image,alt:s.title,class:"book-image"},null,8,E),e("div",V,[s.average_rating?(o(),a("div",$,[t[0]||(t[0]=e("span",{class:"star"},"â˜…",-1)),e("span",null,l(s.average_rating.toFixed(1)),1)])):c("",!0)])]),e("div",I,[e("h3",R,l(s.title),1),s.author?(o(),a("p",j,l(s.author.data.name),1)):c("",!0),e("div",A,[s.published_date?(o(),a("span",O,l(m(s.published_date)),1)):c("",!0),e("span",U,l(s.reviews_count)+" reviews",1)])])]),_:2},1032,["to"])]))),128))]),i.value.length===0&&!n.value?(o(),a("div",Y,t[1]||(t[1]=[e("p",null,"No books available.",-1)]))):c("",!0),_.value?c("",!0):(o(),a("div",q,[e("button",{onClick:h,disabled:n.value,class:"load-more-button !bg-orange_dark"},l(n.value?"Loading...":"Load More Books"),9,z)]))]))}},H=f(G,[["__scopeId","data-v-89503cca"]]),S={__name:"MyBooks",setup(g){return(i,n)=>(o(),M(F,null,{default:p(()=>[k(H)]),_:1}))}};export{S as default};
