import{_ as y,a2 as w,r as u,I as x,N as B,o as a,p as c,e as t,d as l,O as n,j as v,t as i,g as p,R as g,m as q,F as k,f as m}from"./app-CFGuSI1Y.js";import{_ as N}from"./Layout-6o8BjmJW.js";import{a as A}from"./author-LkRgOQ6e.js";import"./client-DX3z9xpM.js";const D={class:"author-page"},F={key:0,class:"loading-state"},L={key:1,class:"error-state"},V={key:2,class:"author-content"},j={class:"author-header"},I={class:"author-img-container"},R=["alt"],C={class:"author-info"},E={class:"author-name"},Q={class:"author-dates"},$={class:"author-stats"},M={class:"stat"},O={class:"stat-value"},P={class:"stat"},S={class:"stat-value"},T={class:"author-bio"},U={class:"bio-text"},Y={class:"author-books"},z={class:"section-title"},G={key:0,class:"no-books"},H={key:1,class:"books-grid"},J={class:"book-cover-container"},K=["src","alt"],W={class:"book-details"},X={class:"book-title"},Z={key:0,class:"book-year"},tt={key:1,class:"book-rating"},st={class:"rating-value"},et={key:0,class:"author-quotes"},ot={class:"quotes-container"},at={class:"quote-text !text-dark_blue"},lt={key:0,class:"quote-source"},it={__name:"Author",setup(rt){const f=w(),e=u(null),_=u(!0),d=u(null),h=r=>r?new Date(r).toLocaleDateString():"Unknown";return x(async()=>{try{const r=f.params.id,s=await A.getAuthorDetails(r);s.status===200&&s.data?e.value=s.data.data||s.data:d.value="Failed to load author details"}catch(r){d.value="An error occurred while loading the author",console.error(r)}finally{_.value=!1}}),(r,s)=>(a(),B(N,null,{default:c(()=>[t("div",D,[_.value?(a(),l("div",F,s[1]||(s[1]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading author details...",-1)]))):d.value?(a(),l("div",L,[t("p",null,i(d.value),1),v(p(g),{to:"/authors",class:"back-link"},{default:c(()=>s[2]||(s[2]=[q("Back to Authors")])),_:1})])):e.value?(a(),l("div",V,[t("div",j,[t("div",I,[t("img",{src:"/images/author.jpeg",alt:e.value.name,class:"author-img",onError:s[0]||(s[0]=o=>o.target.src="/images/default-author.jpg")},null,40,R)]),t("div",C,[t("h1",E,i(e.value.name),1),t("p",Q,i(h(e.value.date_of_birth))+" - "+i(e.value.date_died?h(e.value.date_died):"Present"),1),t("div",$,[t("div",M,[t("span",O,i(e.value.written_books.length),1),s[3]||(s[3]=t("span",{class:"stat-label"},"Books",-1))]),t("div",P,[t("span",S,i(e.value.quotes.length),1),s[4]||(s[4]=t("span",{class:"stat-label"},"Quotes",-1))])])])]),t("div",T,[s[5]||(s[5]=t("h2",{class:"section-title"},"Biography",-1)),t("p",U,i(e.value.description),1)]),t("div",Y,[t("h2",z,"Books by "+i(e.value.name),1),e.value.written_books.length===0?(a(),l("div",G,s[6]||(s[6]=[t("p",null,"No books available for this author.",-1)]))):(a(),l("div",H,[(a(!0),l(k,null,m(e.value.written_books,o=>(a(),l("div",{key:o.id,class:"book-card"},[v(p(g),{to:`/book/${o.id}`,class:"book-link"},{default:c(()=>[t("div",J,[t("img",{src:o.image,alt:o.title,class:"book-cover"},null,8,K)]),t("div",W,[t("h3",X,i(o.title),1),o.published_date?(a(),l("p",Z,i(new Date(o.published_date).getFullYear()),1)):n("",!0),o.rating?(a(),l("div",tt,[s[7]||(s[7]=t("span",{class:"stars"},"★★★★★",-1)),t("span",st,i(o.rating.toFixed(1)),1)])):n("",!0)])]),_:2},1032,["to"])]))),128))]))]),e.value.quotes.length>0?(a(),l("div",et,[s[8]||(s[8]=t("h2",{class:"section-title"},"Notable Quotes",-1)),t("div",ot,[(a(!0),l(k,null,m(e.value.quotes.slice(0,3),(o,b)=>(a(),l("div",{key:b,class:"quote-card"},[t("p",at,'"'+i(o.quote)+'"',1),o.source?(a(),l("p",lt,"- "+i(o.source),1)):n("",!0)]))),128))])])):n("",!0)])):n("",!0)])]),_:1}))}},_t=y(it,[["__scopeId","data-v-606e4b41"]]);export{_t as default};
