import{_ as I}from"./Layout-D793mtri.js";import{_ as M,r as v,B as A,I as L,A as N,d as c,o as i,e,F as w,f as S,J as C,j as b,p as B,g as d,R as O,y as V,K as W,L as z,a as D,b as Y,l as G,M as T,m as y,t as x,n as R,N as E,O as K,k as U}from"./app-CT_gfoAL.js";import{c as H}from"./client-t_DSb9yI.js";import{p as F}from"./profile-CrnoEbjE.js";import{_ as $}from"./Image-BpBzK7HS.js";const P=()=>H.post("/trending_books").then(n=>n).catch(n=>n.response),q=()=>H.post("/suggestions").then(n=>n).catch(n=>n.response),j={getTrendingBooks:P,getSuggestedBooks:q},J=["src"],_=3,X=8,Q={__name:"Suggestions",props:{suggestedBooks:{type:Array,required:!0}},setup(n){const a=n,s=v(0),l=v(null),o=v(!1),g=v(null),h=A(()=>`calc(${100/_}% - ${X}px)`),u=A(()=>({transform:`translateX(-${s.value*(100/_)}%)`}));function t(){o.value||(o.value=!0,s.value++,s.value>a.suggestedBooks.length-_?setTimeout(()=>{l.value.style.transition="none",s.value=0,l.value.offsetHeight,l.value.style.transition="transform 0.5s ease",o.value=!1},500):setTimeout(()=>{o.value=!1},500))}function f(){o.value||(o.value=!0,s.value--,s.value<0?setTimeout(()=>{l.value.style.transition="none",s.value=a.suggestedBooks.length-_,l.value.offsetHeight,l.value.style.transition="transform 0.5s ease",o.value=!1},500):setTimeout(()=>{o.value=!1},500))}function r(){g.value=setInterval(()=>{t()},2e3)}function m(){g.value&&clearInterval(g.value)}return L(()=>{r()}),N(()=>{m()}),(k,ye)=>(i(),c("div",{class:"custom-slider",onMouseenter:m,onMouseleave:r},[e("div",{class:"slider-wrapper",ref_key:"slideContainer",ref:l,style:C(u.value)},[(i(!0),c(w,null,S(n.suggestedBooks,p=>(i(),c("div",{key:p.id,class:"slide",style:C({width:h.value})},[b(d(O),{to:`/book/${p.id}`,class:"slide-link"},{default:B(()=>[e("img",{src:p==null?void 0:p.image,alt:"book image",class:"slide-image"},null,8,J)]),_:2},1032,["to"])],4))),128))],4),e("button",{onClick:f,class:"nav-button prev"},"❮"),e("button",{onClick:t,class:"nav-button next"},"❯")],32))}},Z=M(Q,[["__scopeId","data-v-b8d909c1"]]),ee={class:"p-4 pb-10 bg-primary"},te={class:"flex justify-around"},se={class:"w-1/4 h-fit bg-primary_dark flex justify-between flex-col rounded-2xl shadow-md p-4 mr-4 border-1 border-dark_blue"},ne={class:"bg-light_blue rounded-2xl p-4 my-4"},le={class:"flex justify-center items-center mt-2"},oe={class:"text-2xl"},ae={class:"flex justify-between mb-1"},re={class:"flex justify-between mb-1"},ie={class:"flex justify-between"},ue={class:"flex-1 h-fit"},de={class:"grid grid-cols-2 gap-3 p-2 lg:grid-cols-3"},ce={class:"relative rounded-3xl z-5 flex flex-col justify-center items-center p-2 h-full bg-white opacity-70"},fe={class:"text-center font-bold"},ge={class:"text-lg text-center"},me={class:"relative overflow-hidden w-full"},pe={class:"w-1/4 bg-primary_dark h-fit rounded-lg shadow-md p-4 ml-4"},xe={href:"/join-the-race"},ve={class:"bg-light_blue rounded-lg p-4 mb-4 flex flex-col justify-center"},be={__name:"Home",setup(n){const a=v(1);V(a,()=>{a.value<1&&(a.value=1)});const s=W(),l=z(),o=D(),g=Y();L(async()=>{try{o.loading=!0;const u=await j.getSuggestedBooks(),t=await j.getTrendingBooks(),f=await F.getProfileDetails();f.status===200&&l.setUser(f.data.user),u.status===200&&s.setSuggestions(u.data),t.status===200&&s.setTrending(t.data)}catch(u){g.error("Oops!"+u)}finally{o.loading=!1}});const h=["row-span-2","col-span-2","col-span-2","",""];return(u,t)=>{const f=G("RouterLink");return i(),c("main",ee,[e("section",te,[e("div",se,[t[7]||(t[7]=e("h2",{class:"text-lg font-bold mb-2 text-center"},"2024 READING CHALLENGE",-1)),t[8]||(t[8]=e("p",{class:"text-sm mb-4"},[y(" Challenge Your Self to Read More"),e("br"),y(" This Year ")],-1)),e("div",ne,[b($,{name:"home1",ext:"svg"}),t[2]||(t[2]=e("p",{class:"text-center font-medium"},"Reading Challenge",-1)),e("div",le,[e("button",{onClick:t[0]||(t[0]=r=>a.value--),class:"text-3xl font-bold mr-2"},"-"),e("span",oe,x(a.value),1),e("button",{onClick:t[1]||(t[1]=r=>a.value++),class:"text-3xl font-bold ml-2"},"+")]),t[3]||(t[3]=e("p",{class:"text-xs text-center mt-2"},"You Can Change Your Goal at Any Time",-1))]),t[9]||(t[9]=e("h3",{class:"font-bold my-8 text-center"},"THE BOOK SHELVES",-1)),e("ul",null,[e("li",ae,[t[4]||(t[4]=e("span",null,"Want to Read",-1)),e("span",null,x(d(l).books_status.finished.length),1)]),e("li",re,[t[5]||(t[5]=e("span",null,"Currently Reading",-1)),e("span",null,x(d(l).books_status.reading.length),1)]),e("li",ie,[t[6]||(t[6]=e("span",null,"Completed",-1)),e("span",null,x(d(l).books_status.wantToRead.length),1)])]),t[10]||(t[10]=T('<div class="flex mt-14 justify-between py-10"><a href="#" class="text-2xl"><i class="fa-brands fa-google"></i></a><a href="#" class="text-2xl"><i class="fa-brands fa-apple"></i></a><a href="#" class="text-2xl"><i class="fa-brands fa-instagram"></i></a><a href="#" class="text-2xl"><i class="fa-brands fa-facebook"></i></a><a href="#" class="text-2xl"><i class="fa-brands fa-x-twitter"></i></a></div>',1))]),e("div",ue,[t[11]||(t[11]=e("h2",{class:"text-xl font-bold mb-4 text-center"},"Trending Books",-1)),e("div",de,[(i(!0),c(w,null,S(d(s).trending,(r,m)=>(i(),c("div",{key:m,class:R(["relative p-3 rounded-xl shadow-lg",h[m]])},[b(f,{to:"book/"+r.id},{default:B(()=>[e("div",{style:C({backgroundImage:`url(${r.image})`}),class:"absolute inset-0 bg-cover rounded-xl blur-sm bg-center"},null,4),e("div",ce,[e("h1",fe,x(r.title),1),e("div",ge,[(i(),c(w,null,S(5,k=>e("span",{key:k},[e("i",{class:R(["text-yellow",k<=r.rating/2?"fa-solid fa-star":"fa-regular fa-star"])},null,2)])),64))])])]),_:2},1032,["to"])],2))),128))]),t[12]||(t[12]=e("h2",{class:"text-xl font-bold mb-4 text-center pt-10"},"Suggestions",-1)),e("div",me,[d(s).suggestions?(i(),E(Z,{key:0,"suggested-books":d(s).suggestions},null,8,["suggested-books"])):K("",!0)])]),e("div",pe,[e("a",xe,[t[17]||(t[17]=e("h2",{class:"text-lg font-bold mb-2 text-center"},"WELCOME TO LetsRate",-1)),t[18]||(t[18]=e("p",{class:"text-sm mb-4 text-center"},"Meet your favorite book, find your reading community, and manage your reading life.",-1)),e("div",ve,[b($,{name:"home2",ext:"svg",w:"350px",h:"300px",class:"mx-5"}),t[13]||(t[13]=e("h3",{class:"font-bold text-center"},"LetsRate",-1)),t[14]||(t[14]=e("p",{class:"text-center"},"CHOICE AWARD",-1)),t[15]||(t[15]=e("p",{class:"text-center text-2xl font-bold"},"2024",-1)),t[16]||(t[16]=e("p",{class:"text-center mt-2"},[y("Announcing the Best "),e("br"),y("Books of 2024")],-1))]),t[19]||(t[19]=T('<h3 class="font-bold mb-2 text-center py-4">WORK WITH US</h3><ul class="text-sm py-4"><li class="mb-1 text-center">Authors</li><li class="mb-1 text-center">Advertise</li><li class="text-center">Authors &amp; Ads Blog</li></ul>',2))])])])])}}},Ce={__name:"Home",setup(n){return console.log(U().token.value),(a,s)=>(i(),E(I,null,{default:B(()=>[b(be)]),_:1}))}};export{Ce as default};
