import{_ as b,a2 as w,r as c,I as x,N as B,o,p as _,e as t,d as l,O as n,j as p,t as r,g,R as m,m as q,F as k,f}from"./app-u9g5LOTy.js";import{_ as N}from"./Layout-66GSexvw.js";import{a as A}from"./author-Dryl9uVe.js";import"./client-DLA-7hpl.js";const D={class:"author-page"},F={key:0,class:"loading-state"},j={key:1,class:"error-state"},L={key:2,class:"author-content"},V={class:"author-header"},E={class:"author-img-container"},I=["alt"],R={class:"author-info"},C={class:"author-name"},Q={class:"author-dates"},$={class:"author-stats"},M={class:"stat"},O={class:"stat-value"},P={class:"stat"},S={class:"stat-value"},T={class:"author-bio"},U={class:"bio-text"},Y={class:"author-books"},z={class:"section-title"},G={key:0,class:"no-books"},H={key:1,class:"books-grid"},J={class:"book-cover-container"},K=["src","alt"],W={class:"book-details"},X={class:"book-title"},Z={key:0,class:"book-year"},tt={key:1,class:"book-rating"},st={class:"rating-value"},et={key:0,class:"author-quotes"},at={class:"quotes-container"},ot={class:"quote-text !text-dark_blue"},lt={key:0,class:"quote-source"},rt={__name:"Author",setup(it){const y=w(),a=c(null),h=c(!0),d=c(null),v=i=>i?new Date(i).toLocaleDateString():"Unknown";return x(async()=>{try{const i=y.params.id,s=await A.getAuthorDetails(i);s.status===200&&s.data?a.value=s.data.data||s.data:d.value="Failed to load author details"}catch(i){d.value="An error occurred while loading the author",console.error(i)}finally{h.value=!1}}),(i,s)=>(o(),B(N,null,{default:_(()=>[t("div",D,[h.value?(o(),l("div",F,s[2]||(s[2]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading author details...",-1)]))):d.value?(o(),l("div",j,[t("p",null,r(d.value),1),p(g(m),{to:"/authors",class:"back-link"},{default:_(()=>s[3]||(s[3]=[q("Back to Authors")])),_:1})])):a.value?(o(),l("div",L,[t("div",V,[t("div",E,[t("img",{src:"/images/author.jpeg",alt:a.value.name,class:"author-img",onError:s[0]||(s[0]=e=>e.target.src="/images/default-author.jpg")},null,40,I)]),t("div",R,[t("h1",C,r(a.value.name),1),t("p",Q,r(v(a.value.date_of_birth))+" - "+r(a.value.date_died?v(a.value.date_died):"Present"),1),t("div",$,[t("div",M,[t("span",O,r(a.value.written_books.length),1),s[4]||(s[4]=t("span",{class:"stat-label"},"Books",-1))]),t("div",P,[t("span",S,r(a.value.quotes.length),1),s[5]||(s[5]=t("span",{class:"stat-label"},"Quotes",-1))])])])]),t("div",T,[s[6]||(s[6]=t("h2",{class:"section-title"},"Biography",-1)),t("p",U,r(a.value.description),1)]),t("div",Y,[t("h2",z,"Books by "+r(a.value.name),1),a.value.written_books.length===0?(o(),l("div",G,s[7]||(s[7]=[t("p",null,"No books available for this author.",-1)]))):(o(),l("div",H,[(o(!0),l(k,null,f(a.value.written_books,e=>(o(),l("div",{key:e.id,class:"book-card"},[p(g(m),{to:`/book/${e.id}`,class:"book-link"},{default:_(()=>[t("div",J,[t("img",{src:"/storage/"+(e==null?void 0:e.image),alt:e.title,class:"book-cover",onError:s[1]||(s[1]=u=>u.target.src="/images/default-book.jpg")},null,40,K)]),t("div",W,[t("h3",X,r(e.title),1),e.published_date?(o(),l("p",Z,r(new Date(e.published_date).getFullYear()),1)):n("",!0),e.rating?(o(),l("div",tt,[s[8]||(s[8]=t("span",{class:"stars"},"★★★★★",-1)),t("span",st,r(e.rating.toFixed(1)),1)])):n("",!0)])]),_:2},1032,["to"])]))),128))]))]),a.value.quotes.length>0?(o(),l("div",et,[s[9]||(s[9]=t("h2",{class:"section-title"},"Notable Quotes",-1)),t("div",at,[(o(!0),l(k,null,f(a.value.quotes.slice(0,3),(e,u)=>(o(),l("div",{key:u,class:"quote-card"},[t("p",ot,'"'+r(e.quote)+'"',1),e.source?(o(),l("p",lt,"- "+r(e.source),1)):n("",!0)]))),128))])])):n("",!0)])):n("",!0)])]),_:1}))}},_t=b(rt,[["__scopeId","data-v-2c227ed9"]]);export{_t as default};
